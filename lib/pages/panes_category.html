<link rel="import" href="../../../packages/polymer/polymer.html">
<link rel="import" href="../../../packages/akepot/pages/pane_category.html">
<link rel="import" href="../../../packages/polymer_elements/neon_animated_pages.html">
<link rel="import" href="../../../packages/polymer_elements/iron_signals.html">
<link rel="import" href="../../../packages/polymer_elements/iron_flex_layout.html">

<dom-module id="panes-category">
  <style>
    /* TODO(polyup): For speed, consider reworking these styles with .classes
                     and #ids rather than [attributes].
    */
    [fit] {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
    }
    [layout] {
      @apply(--layout);
    }
    [layout][vertical] {
      @apply(--layout-vertical);
    }
  </style>
  <link rel="import" type="css" href="panes_category.css">
  <template>

    <iron-signals on-core-signal-signedin="signedIn"></iron-signals>
    <neon-animated-pages fit main selected="{{selectedCategory}}" valueattr="label" transitions="cascade-transition">
      <template is="dom-if" if="{{service.signedIn}}">
        <template is="dom-repeat" items="{{service.project.categories}}" as="category">
          <section name="{{category.name}}" label="{{category.name}}" vertical layout>
            <pane-category id="list1" subcategories="{{category.subcategories}}" cross-fade></pane-category>
          </section>
        </template>
      </template>
    </neon-animated-pages>
  </template>

</dom-module>
