<link rel=import href="../../../../packages/polymer/polymer.html"><link rel=import href="routing.html"><polymer-element name=more-route><script>Polymer("more-route",{publish:{name:"",path:"",fullPath:"",reference:false,params:{},active:false,route:null,parent:null},observe:{name:"_identityChanged",path:"_identityChanged",reference:"_identityChanged",active:"_updateProxiedValues"},ready:function(){this.reference=this.name&&!this.path},attached:function(){this.parent=this._findParent()},urlFor:function(a){return this.route.urlFor(a)},navigateTo:function(a){return this.route.navigateTo(a)},isCurrentUrl:function(a){return this.route.isCurrentUrl(a)},_identityChanged:function(){var a=(this.parent&&this.parent.path||"")+this.path;if(this.name&&this.reference){this.route=MoreRouting.getRouteByName(this.name);this.path=this.route.path;this.fullPath=this.route.path}else{if(this.path&&this.name){this.route=MoreRouting.registerNamedRoute(this.name,a);this.path=this.path;this.fullPath=a}else{if(this.path){this.route=MoreRouting.getRouteByPath(a);this.path=this.path;this.fullPath=a}else{this.route=null;this.path="";this.fullPath=""}}}if(this._routeObserver){this._routeObserver.close()}if(this.route){this.params=this.route.params;this._observeRoute(this.route)}else{this.params={}}},_updateProxiedValues:function(){this.active=this.route&&this.route.active},_observeRoute:function(a){this._routeObserver=new CompoundObserver();this._routeObserver.addPath(a,"active");this._routeObserver.open(this._updateProxiedValues.bind(this))},_findParent:function(){var b=this;while(b){b=b.parentNode||b.host;var a=b&&b.moreRouteContext||b;if(a instanceof this.constructor&&a!==this){return a}}return null}});</script></polymer-element>