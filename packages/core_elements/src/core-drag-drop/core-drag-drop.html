<link rel=import href="../polymer/polymer.html"><style>core-drag-avatar{position:fixed;left:0;top:0;display:block;pointer-events:none}</style><polymer-element name=core-drag-drop><script>(function(){var a;Polymer("core-drag-drop",{observe:{"x y":"coordinatesChanged"},ready:function(){if(!a){a=document.createElement("core-drag-avatar");document.body.appendChild(a)}this.avatar=a;this.dragging=false},draggingChanged:function(){this.avatar.style.display=this.dragging?"":"none"},coordinatesChanged:function(){var b=this.x,c=this.y;this.avatar.style.transform=this.avatar.style.webkitTransform="translate("+b+"px, "+c+"px)"},attached:function(){var b=function(e,d){Polymer.addEventListener(this.parentNode,e,this[d].bind(this))}.bind(this);b("trackstart","trackStart");b("track","track");b("trackend","trackEnd");var c=this.parentNode.host||this.parentNode;c.style.cssText+="; user-select: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none;"},trackStart:function(b){this.avatar.style.cssText="";this.dragInfo={event:b,avatar:this.avatar};this.fire("drag-start",this.dragInfo);this.dragging=Boolean(this.dragInfo.drag)},track:function(b){if(this.dragging){this.x=b.pageX;this.y=b.pageY;this.dragInfo.event=b;this.dragInfo.p={x:this.x,y:this.y};this.dragInfo.drag(this.dragInfo)}},trackEnd:function(b){if(this.dragging){this.dragging=false;if(this.dragInfo.drop){this.dragInfo.framed=this.framed(b.relatedTarget);this.dragInfo.event=b;this.dragInfo.drop(this.dragInfo)}}this.dragInfo=null},framed:function(c){var b=c.getBoundingClientRect();return{x:this.x-b.left,y:this.y-b.top}}})})();</script></polymer-element>