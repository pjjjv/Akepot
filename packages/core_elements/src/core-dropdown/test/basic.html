<!doctype html><html><head><meta charset=UTF-8><title>core-dropdown basic tests</title><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><script src="../../webcomponentsjs/webcomponents.js"></script><script src="../../web-component-tester/browser.js"></script><link href="../core-dropdown.html" rel=import><style>body{text-align:center;margin-top:200px}</style></head><body><div relative id=trigger1> tap <core-dropdown id=dropdown1>Hello World!</core-dropdown></div><div relative id=trigger2> tap <core-dropdown id=dropdown2 valign=bottom>Hello World!</core-dropdown></div><div relative id=trigger3> tap <core-dropdown id=dropdown3 halign=right>Hello World!</core-dropdown></div><div relative id=trigger4> tap <core-dropdown id=dropdown4 layered>Hello World!</core-dropdown></div><div relative id=trigger5> tap <core-dropdown id=dropdown5 layered valign=bottom>Hello World!</core-dropdown></div><div relative id=trigger6> tap <core-dropdown id=dropdown6 layered halign=right>Hello World!</core-dropdown></div><script>function approxEqual(d,c){return assert.equal(Math.round(d),Math.round(c))}function assertPosition(d,a){var c=d.getBoundingClientRect();var b=a.getBoundingClientRect();if(d.halign==="left"){approxEqual(c.left,b.left)}else{approxEqual(c.right,b.right)}if(d.valign==="top"){approxEqual(c.top,b.top)}else{approxEqual(c.bottom,b.bottom)}}function flushLayoutAndRender(a){flush(function(){document.body.offsetTop;requestAnimationFrame(function(){a()})})}var d1=document.getElementById("dropdown1");var t1=document.getElementById("trigger1");var d2=document.getElementById("dropdown2");var t2=document.getElementById("trigger2");var d3=document.getElementById("dropdown3");var t3=document.getElementById("trigger3");var d4=document.getElementById("dropdown4");var t4=document.getElementById("trigger4");var d5=document.getElementById("dropdown5");var t5=document.getElementById("trigger5");var d6=document.getElementById("dropdown6");var t6=document.getElementById("trigger6");test("default",function(a){d1.opened=true;flushLayoutAndRender(function(){assertPosition(d1,t1);a()})});test("bottom alignment",function(a){d2.opened=true;flushLayoutAndRender(function(){assertPosition(d2,t2);a()})});test("right alignment",function(a){d3.opened=true;flushLayoutAndRender(function(){assertPosition(d3,t3);a()})});test("layered",function(a){d4.opened=true;flushLayoutAndRender(function(){assertPosition(d4,t4);a()})});test("layered, bottom alignment",function(a){d5.opened=true;flushLayoutAndRender(function(){assertPosition(d5,t5);a()})});test("layered, right alignment",function(a){d6.opened=true;flushLayoutAndRender(function(){assertPosition(d6,t6);a()})});</script></body></html>