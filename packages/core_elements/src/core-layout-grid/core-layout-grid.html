<link rel=import href="../polymer/polymer.html"><polymer-element name=core-layout-grid attributes="nodes layout auto"><script>(function(){Polymer("core-layout-grid",{nodes:null,layout:null,auto:false,created:function(){this.layout=[]},nodesChanged:function(){this.invalidate()},layoutChanged:function(){this.invalidate()},autoNodes:function(){this.nodes=this.parentNode.children.array().filter(function(m){switch(m.localName){case"core-layout-grid":case"style":return false}return true})},invalidate:function(){if(this.layout&&this.layout.length){this.layoutJob=this.job(this.layoutJob,this.relayout)}},relayout:function(){if(!this.nodes||this.auto){this.autoNodes()}k(this.layout,this.nodes);this.asyncFire("core-layout")}});var n;function r(t,u,v){var m=document.createElement("line");var s=(t==="left"?"width":(t==="top"?"height":t));m.setAttribute("extent",s);if(v<0){t=(t==="left"?"right":(t==="top"?"bottom":t))}u=Math.abs(u);m.style[t]=u+"px";m.style[s]="0px";n.appendChild(m)}var p,q,o,i;function h(m){o=m.length;p=o&&m[0].length||0;var u=[];for(var t=0;t<p;t++){var v=[];for(var s=0;s<o;s++){v.push(m[s][t])}u.push(v)}q=c(m);i=c(u)}function c(A){var z=A.length;var w=z&&A[0].length||0;var s=[];for(var u=0;u<w;u++){var y={};for(var t=0;t<z;t++){var m=A[t];var v=m[u];if(v){var x=false;if(u===0){x=(u===w-1)||(v!==m[u+1])}else{if(u===w-1){x=(u===0)||(v!==m[u-1])}else{x=v!==m[u-1]&&v!==m[u+1]}}if(x){y[v]=1}}s[u]=y}}return s}var b;function g(t){for(var s in q[t]){s=Number(s);if(s===0){return 96}var u=b[s-1];if(u.hasAttribute("h-flex")||u.hasAttribute("flex")){return -1}var m=u.offsetWidth;return m}return -1}function a(m){for(var u in i[m]){u=Number(u);if(u===0){return 96}var t=b[u-1];if(t.hasAttribute("v-flex")||t.hasAttribute("flex")){return -1}var s=t.offsetHeight;return s}return -1}var e=0;function f(w,z){var y=[];var t=0;for(var u=0,s;u<w;u++){y[u]={p:t,s:1};s=z(u)+e+e;if(s==-1){break}t+=s}if(u===w){y[u]={p:0,s:-1}}var m=0;for(var v=w,s;v>u;v--){y[v]={p:m,s:-1};s=z(v-1)+e+e;if(s!==-1){m+=s}}return y}function d(s){var m=s.style;m.position="absolute";m.display="inline-block";m.boxSizing=m.mozBoxSizing="border-box"}function l(x,u,v,w,t,m){x[u]=x[v]="";x[w]="auto";if(t.s<0&&m.s<0){var s=t.p-m.p-e-e;x[w]=s+"px";var y="calc(100% - "+(m.p+s+e)+"px)";x[u]="-webkit-"+y;x[u]=y}else{if(m.s<0){x[u]=t.p+e+"px";x[v]=m.p+e+"px"}else{x[u]=t.p+e+"px";x[w]=m.p-t.p-e-e+"px"}}}function j(s,v,t,u,m){l(s.style,"top","bottom","height",rows[u],rows[m]);l(s.style,"left","right","width",columns[v],columns[t])}function k(m,t,s){n=s;b=t;h(m);b.forEach(d);columns=f(p,g);rows=f(o,a);if(s){columns.forEach(function(u){r("left",u.p,u.s)});rows.forEach(function(u){r("top",u.p,u.s)})}b.forEach(function(A,y){var B=y+1;var w,z,x=10000000000,u=-10000000000;m.forEach(function(C,D){var E=C.indexOf(B);if(E>-1){w=E;z=C.lastIndexOf(B)+1;x=Math.min(x,D);u=Math.max(u,D)+1}});if(w==undefined){A.style.position="absolute";var v=A.getAttribute("offscreen");switch(v){case"basement":A.style.zIndex=0;break;case"left":case"top":A.style[v]=A.offsetWidth*-2+"px";break;case"right":A.style.left=A.offsetParent.offsetWidth+A.offsetWidth+"px";break;case"bottom":A.style.top=A.parentNode.offsetHeight+A.offsetHeight+"px";break;default:A.style[Math.random()>=0.5?"left":"top"]="-110%"}A.style.pointerEvents="none"}else{A.style.pointerEvents="";j(A,w,z,x,u)}})}})();</script></polymer-element>