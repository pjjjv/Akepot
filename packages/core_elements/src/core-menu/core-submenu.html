<link rel=import href="../core-item/core-item.html"><link rel=import href="../core-menu/core-menu.html"><link rel=import href="../core-collapse/core-collapse.html"><polymer-element name=core-submenu attributes="selected selectedItem label icon src valueattr"><template><link rel=stylesheet href="core-submenu.css"><core-item id=submenuItem src="{{src}}" label="{{label}}" icon="{{icon}}" class="{{ {'core-selected' : active} | tokenList}}" on-tap="{{activate}}"><content select=".item-content"></content></core-item><core-menu id=submenu selected"{{selected}}" selectedItem="{{selectedItem}}" valueattr="{{valueattr}}"><content></content></core-menu><core-collapse target="{{$.submenu}}" opened="{{opened}}"></core-collapse></template><script>Polymer("core-submenu",{publish:{active:{value:false,reflect:true}},opened:false,get items(){return this.$.submenu.items},hasItems:function(){return !!this.items.length},unselectAllItems:function(){this.$.submenu.selected=null;this.$.submenu.clearSelection()},activeChanged:function(){if(this.hasItems()){this.opened=this.active}if(!this.active){this.unselectAllItems()}},toggle:function(){this.opened=!this.opened},activate:function(){if(this.hasItems()&&this.active){this.toggle();this.unselectAllItems()}}});</script></polymer-element>