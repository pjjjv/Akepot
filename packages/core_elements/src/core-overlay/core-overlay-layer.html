<link rel=import href="../polymer/polymer.html"><polymer-element name=core-overlay-layer><template><style>:host{position:fixed;top:0;left:0;z-index:1000;display:none}:host(.core-opened){display:block}</style><content></content></template><script>(function(){Polymer("core-overlay-layer",{publish:{opened:false},openedChanged:function(){this.classList.toggle("core-opened",this.opened)},addElement:function(c){if(!this.parentNode){document.querySelector("body").appendChild(this)}if(c.parentNode!==this){c.__contents=[];var e=c.querySelectorAll("content");for(var b=0,a=e.length,f;(b<a)&&(f=e[b]);b++){this.moveInsertedElements(f);this.cacheDomLocation(f);f.parentNode.removeChild(f);c.__contents.push(f)}this.cacheDomLocation(c);this.updateEventController(c);var d=this.makeHost();d.shadowRoot.appendChild(c);c.__host=d}},makeHost:function(){var a=document.createElement("overlay-host");a.createShadowRoot();this.appendChild(a);return a},moveInsertedElements:function(c){var e=c.getDistributedNodes();var d=c.parentNode;c.__contents=[];for(var b=0,a=e.length,f;(b<a)&&(f=e[b]);b++){this.cacheDomLocation(f);this.updateEventController(f);c.__contents.push(f);d.appendChild(f)}},updateEventController:function(a){a.eventController=this.element.findController(a)},removeElement:function(a){a.eventController=null;this.replaceElement(a);var b=a.__host;if(b){b.parentNode.removeChild(b)}},replaceElement:function(b){if(b.__contents){for(var a=0,d=b.__contents,f;(f=d[a]);a++){this.replaceElement(f)}b.__contents=null}if(b.__parentNode){var e=b.__nextElementSibling&&b.__nextElementSibling===b.__parentNode?b.__nextElementSibling:null;b.__parentNode.insertBefore(b,e)}},cacheDomLocation:function(a){a.__nextElementSibling=a.nextElementSibling;a.__parentNode=a.parentNode}})})();</script></polymer-element>