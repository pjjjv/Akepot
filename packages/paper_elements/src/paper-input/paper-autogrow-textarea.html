<link href="../polymer/polymer.html" rel=import><polymer-element name=paper-autogrow-textarea on-input="{{inputAction}}"><template><style>:host{display:inline-block;position:relative;width:400px}::content textarea{padding:0;margin:0;border:0;outline:0;resize:none;width:100%;height:100%}::content textarea:invalid{box-shadow:none}</style><div id=mirror class=mirror-text invisible aria-hidden=true>&nbsp;</div><div class=textarea-container fit><content></content></div></template><script>Polymer({publish:{target:null,rows:1,maxRows:0},tokens:null,observe:{rows:"updateCached",maxRows:"updateCached"},constrain:function(b){var a;b=b||[""];if(this.maxRows>0&&b.length>this.maxRows){a=b.slice(0,this.maxRows)}else{a=b.slice(0)}while(this.rows>0&&a.length<this.rows){a.push("")}return a.join("<br>")+"&nbsp;"},valueForMirror:function(a){this.tokens=(a&&a.value)?a.value.replace(/&/gm,"&amp;").replace(/"/gm,"&quot;").replace(/'/gm,"&#39;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").split("\n"):[""];return this.constrain(this.tokens)},update:function(a){this.$.mirror.innerHTML=this.valueForMirror(a)},updateCached:function(){this.$.mirror.innerHTML=this.constrain(this.tokens)},inputAction:function(a){this.update(a.target)}});</script></polymer-element>