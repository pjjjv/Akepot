!function(r){function t(r,t){for(var a=0,e=0;e<r.length;e++)a+=r[e]*t[e];return a}function a(r,t){return[r[0]*t[0]+r[4]*t[1]+r[8]*t[2]+r[12]*t[3],r[1]*t[0]+r[5]*t[1]+r[9]*t[2]+r[13]*t[3],r[2]*t[0]+r[6]*t[1]+r[10]*t[2]+r[14]*t[3],r[3]*t[0]+r[7]*t[1]+r[11]*t[2]+r[15]*t[3],r[0]*t[4]+r[4]*t[5]+r[8]*t[6]+r[12]*t[7],r[1]*t[4]+r[5]*t[5]+r[9]*t[6]+r[13]*t[7],r[2]*t[4]+r[6]*t[5]+r[10]*t[6]+r[14]*t[7],r[3]*t[4]+r[7]*t[5]+r[11]*t[6]+r[15]*t[7],r[0]*t[8]+r[4]*t[9]+r[8]*t[10]+r[12]*t[11],r[1]*t[8]+r[5]*t[9]+r[9]*t[10]+r[13]*t[11],r[2]*t[8]+r[6]*t[9]+r[10]*t[10]+r[14]*t[11],r[3]*t[8]+r[7]*t[9]+r[11]*t[10]+r[15]*t[11],r[0]*t[12]+r[4]*t[13]+r[8]*t[14]+r[12]*t[15],r[1]*t[12]+r[5]*t[13]+r[9]*t[14]+r[13]*t[15],r[2]*t[12]+r[6]*t[13]+r[10]*t[14]+r[14]*t[15],r[3]*t[12]+r[7]*t[13]+r[11]*t[14]+r[15]*t[15]]}function e(r){switch(r.t){case"rotatex":var t=r.d[0].rad||0,a=r.d[0].deg||0,e=a*Math.PI/180+t;return[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1];case"rotatey":var t=r.d[0].rad||0,a=r.d[0].deg||0,e=a*Math.PI/180+t;return[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1];case"rotate":case"rotatez":var t=r.d[0].rad||0,a=r.d[0].deg||0,e=a*Math.PI/180+t;return[Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1,0,0,0,0,1];case"rotate3d":var n=r.d[0],s=r.d[1],u=r.d[2],t=r.d[3].rad||0,a=r.d[3].deg||0,e=a*Math.PI/180+t,d=n*n+s*s+u*u;if(0===d)n=1,s=0,u=0;else if(1!==d){var c=Math.sqrt(d);n/=c,s/=c,u/=c}var i=Math.sin(e/2),h=i*Math.cos(e/2),o=i*i;return[1-2*(s*s+u*u)*o,2*(n*s*o+u*h),2*(n*u*o-s*h),0,2*(n*s*o-u*h),1-2*(n*n+u*u)*o,2*(s*u*o+n*h),0,2*(n*u*o+s*h),2*(s*u*o-n*h),1-2*(n*n+s*s)*o,0,0,0,0,1];case"scale":return[r.d[0],0,0,0,0,r.d[1],0,0,0,0,1,0,0,0,0,1];case"scalex":return[r.d[0],0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,r.d[0],0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,r.d[0],0,0,0,0,1];case"scale3d":return[r.d[0],0,0,0,0,r.d[1],0,0,0,0,r.d[2],0,0,0,0,1];case"skew":var v=r.d[0].deg||0,M=r.d[0].rad||0,p=r.d[1].deg||0,f=r.d[1].rad||0,l=v*Math.PI/180+M,x=p*Math.PI/180+f;return[1,Math.tan(x),0,0,Math.tan(l),1,0,0,0,0,1,0,0,0,0,1];case"skewx":var t=r.d[0].rad||0,a=r.d[0].deg||0,e=a*Math.PI/180+t;return[1,0,0,0,Math.tan(e),1,0,0,0,0,1,0,0,0,0,1];case"skewy":var t=r.d[0].rad||0,a=r.d[0].deg||0,e=a*Math.PI/180+t;return[1,Math.tan(e),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":var n=r.d[0].px||0,s=r.d[1].px||0;return[1,0,0,0,0,1,0,0,0,0,1,0,n,s,0,1];case"translatex":var n=r.d[0].px||0;return[1,0,0,0,0,1,0,0,0,0,1,0,n,0,0,1];case"translatey":var s=r.d[0].px||0;return[1,0,0,0,0,1,0,0,0,0,1,0,0,s,0,1];case"translatez":var u=r.d[0].px||0;return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,u,1];case"translate3d":var n=r.d[0].px||0,s=r.d[1].px||0,u=r.d[2].px||0;return[1,0,0,0,0,1,0,0,0,0,1,0,n,s,u,1];case"perspective":var m=r.d[0].px?-1/r.d[0].px:0;return[1,0,0,0,0,1,0,0,0,0,1,m,0,0,0,1];case"matrix":return[r.d[0],r.d[1],0,0,r.d[2],r.d[3],0,0,0,0,1,0,r.d[4],r.d[5],0,1];case"matrix3d":return r.d;default:WEB_ANIMATIONS_TESTING&&console.assert(!1,"Transform item type "+r.t+" conversion to matrix not yet implemented.")}}function n(r){return 0===r.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:r.map(e).reduce(a)}function s(r){return[u(n(r))]}var u=function(){function r(r){return r[0][0]*r[1][1]*r[2][2]+r[1][0]*r[2][1]*r[0][2]+r[2][0]*r[0][1]*r[1][2]-r[0][2]*r[1][1]*r[2][0]-r[1][2]*r[2][1]*r[0][0]-r[2][2]*r[0][1]*r[1][0]}function a(t){for(var a=1/r(t),e=t[0][0],n=t[0][1],s=t[0][2],u=t[1][0],d=t[1][1],c=t[1][2],i=t[2][0],h=t[2][1],o=t[2][2],v=[[(d*o-c*h)*a,(s*h-n*o)*a,(n*c-s*d)*a,0],[(c*i-u*o)*a,(e*o-s*i)*a,(s*u-e*c)*a,0],[(u*h-d*i)*a,(i*n-e*h)*a,(e*d-n*u)*a,0]],M=[],p=0;3>p;p++){for(var f=0,l=0;3>l;l++)f+=t[3][l]*v[l][p];M.push(f)}return M.push(1),v.push(M),v}function e(r){return[[r[0][0],r[1][0],r[2][0],r[3][0]],[r[0][1],r[1][1],r[2][1],r[3][1]],[r[0][2],r[1][2],r[2][2],r[3][2]],[r[0][3],r[1][3],r[2][3],r[3][3]]]}function n(r,t){for(var a=[],e=0;4>e;e++){for(var n=0,s=0;4>s;s++)n+=r[s]*t[s][e];a.push(n)}return a}function s(r){var t=u(r);return[r[0]/t,r[1]/t,r[2]/t]}function u(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2])}function d(r,t,a,e){return[a*r[0]+e*t[0],a*r[1]+e*t[1],a*r[2]+e*t[2]]}function c(r,t){return[r[1]*t[2]-r[2]*t[1],r[2]*t[0]-r[0]*t[2],r[0]*t[1]-r[1]*t[0]]}function i(i){var h=[i.slice(0,4),i.slice(4,8),i.slice(8,12),i.slice(12,16)];if(1!==h[3][3])return null;for(var o=[],v=0;4>v;v++)o.push(h[v].slice());for(var v=0;3>v;v++)o[v][3]=0;if(0===r(o))return!1;var M,p=[];if(h[0][3]||h[1][3]||h[2][3]){p.push(h[0][3]),p.push(h[1][3]),p.push(h[2][3]),p.push(h[3][3]);var f=a(o),l=e(f);M=n(p,l)}else M=[0,0,0,1];var x=h[3].slice(0,3),m=[];m.push(h[0].slice(0,3));var g=[];g.push(u(m[0])),m[0]=s(m[0]);var I=[];m.push(h[1].slice(0,3)),I.push(t(m[0],m[1])),m[1]=d(m[1],m[0],1,-I[0]),g.push(u(m[1])),m[1]=s(m[1]),I[0]/=g[1],m.push(h[2].slice(0,3)),I.push(t(m[0],m[2])),m[2]=d(m[2],m[0],1,-I[1]),I.push(t(m[1],m[2])),m[2]=d(m[2],m[1],1,-I[2]),g.push(u(m[2])),m[2]=s(m[2]),I[1]/=g[2],I[2]/=g[2];var P=c(m[1],m[2]);if(t(m[0],P)<0)for(var v=0;3>v;v++)g[v]*=-1,m[v][0]*=-1,m[v][1]*=-1,m[v][2]*=-1;var q,w,y=m[0][0]+m[1][1]+m[2][2]+1;return y>1e-4?(q=.5/Math.sqrt(y),w=[(m[2][1]-m[1][2])*q,(m[0][2]-m[2][0])*q,(m[1][0]-m[0][1])*q,.25/q]):m[0][0]>m[1][1]&&m[0][0]>m[2][2]?(q=2*Math.sqrt(1+m[0][0]-m[1][1]-m[2][2]),w=[.25*q,(m[0][1]+m[1][0])/q,(m[0][2]+m[2][0])/q,(m[2][1]-m[1][2])/q]):m[1][1]>m[2][2]?(q=2*Math.sqrt(1+m[1][1]-m[0][0]-m[2][2]),w=[(m[0][1]+m[1][0])/q,.25*q,(m[1][2]+m[2][1])/q,(m[0][2]-m[2][0])/q]):(q=2*Math.sqrt(1+m[2][2]-m[0][0]-m[1][1]),w=[(m[0][2]+m[2][0])/q,(m[1][2]+m[2][1])/q,.25*q,(m[1][0]-m[0][1])/q]),[x,g,I,w,M]}return i}();r.dot=t,r.makeMatrixDecomposition=s}(webAnimationsMinifill,webAnimationsTesting);